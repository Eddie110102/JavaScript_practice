<!DOCTYPE html>
<html lang="zh-hant-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>密碼驗證</title>
    <link rel="stylesheet" href="./nav.css" />
    <style>
      #hint {
        margin: 10px;
        margin-left: 50px;
      }
      #hint {
        color: gray;
      }
      #hint.active {
        color: green;
      }
    </style>
  </head>
  <body>
    <nav></nav>
    <h1>請驗證使用者輸入的密碼</h1>
    <hr />
    <label>密碼：<input type="text" id="password" /></label>
    <div id="hint">請符合格式</div>
    <script>
      const password = document.querySelector("#password");
      const hint = document.querySelector("#hint");

      password.addEventListener("input", () => {
        let res = check(password.value);
        if (res) {
          hint.innerHTML = "密碼符合格式";
        } else {
          hint.innerHTML =
            "密碼不符合格式（包含8個字元以上、1個大寫英文、小寫英文、數字、特殊符號）";
        }
      });

      function check(a) {
        // (?=.*\d) => 包含數字； (?=.*[a-z]) => 包含小寫字母； (?=.*[A-Z]) =>包含大寫字母； (?=.*\W) => 包含特殊符號； .{8,} => 至少8位數字以上
        let regex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{8,}$/;
        return regex.test(a);
      }
    </script>
    <script src="./navbar.js"></script>
  </body>
</html>
