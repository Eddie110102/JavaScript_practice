<!DOCTYPE html>
<html lang="zh-hant-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carousel 輪播牆</title>
    <link rel="stylesheet" href="./styles/nav.css" />
    <link rel="stylesheet" href="./styles/08_carousel.css" />
  </head>
  <body>
    <div class="container">
      <nav></nav>
      <div>
        <h1>Carousel 輪播牆</h1>
        <hr />
        <div class="box">
          <div class="carousel">
            <img
              id="img"
              src="https://www.invoicera.com/wp-content/uploads/2023/11/default-image.jpg"
            />
          </div>
          <div class="btn" id="prev">
            <img src="./images/prev.svg" alt="" />
          </div>
          <div class="btn" id="next">
            <img src="./images/next.svg" alt="" />
          </div>
        </div>
      </div>
    </div>

    <!-- 圖片來源 -->
    <script src="./carousel-data.js"></script>
    <script>
      // 設定一個變數在儲存顯示第幾張圖
      let page = 0;

      // 抓取輪播牆中顯示圖片的元素
      const img = document.querySelector("#img");

      // 設定畫面載入時顯示哪張圖片
      img.src = data[0].url;
      img.alt = data[0].name;

      // 抓取畫面中的兩個控制按鈕
      const prev = document.querySelector("#prev");
      const next = document.querySelector("#next");

      // 將按鈕設定 click 觸發的 function
      prev.addEventListener("click", prevPage);
      next.addEventListener("click", nextPage);

      function prevPage() {
        // 【 < 】按鈕被點擊時，先判斷目前是險是第幾張圖
        // 如果目前的張數 -1 會小於 0 那就讓圖片變成最後一張圖片 (也就是4)
        // 如果目前的張數 -1 不會小於 0 代表還有上一張圖可以顯示
        if (page - 1 < 0) {
          page = data.length - 1;
        } else {
          page = page - 1;
        }
        // 重新設定圖片
        img.src = data[page].url;
        img.alt = data[page].name;
      }

      function nextPage() {
        // 【 > 】按鈕被點擊時，先判斷目前是險是第幾張圖
        // 如果目前的張數 +1 會大於 4 那就讓圖片變成第一張圖片 (也就是0)
        // 如果目前的張數 +1 不會大於 4 代表還有下一張圖可以顯示
        if (page + 1 > data.length - 1) {
          page = 0;
        } else {
          page = page + 1;
        }

        // 重新設定圖片
        img.src = data[page].url;
        img.alt = data[page].name;
      }
    </script>
    <script src="./navbar.js"></script>
  </body>
</html>
