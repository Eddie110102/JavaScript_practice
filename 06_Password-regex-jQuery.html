<!DOCTYPE html>
<html lang="zh-hant-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>密碼驗證 - jQuery</title>
    <link rel="stylesheet" href="./styles/nav.css" />
    <link rel="stylesheet" href="./styles/06_password-regex.css" />
  </head>
  <body>
    <div class="container">
      <nav></nav>
      <div>
        <h1>請驗證使用者輸入的密碼 - jQuery</h1>
        <hr />
        <label>密碼：<input type="text" id="password" /></label>
        <div id="hint">請符合格式</div>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script>
      $(function () {
        const password = document.querySelector("#password");
        const hint = document.querySelector("#hint");

        $("#password").on("input", function () {
          let res = check($(this).val());
          if (res) {
            $("#hint").text("密碼符合格式");
          } else {
            $("#hint").text(
              "密碼不符合格式（包含8個字元以上、1個大寫英文、小寫英文、數字、特殊符號）"
            );
          }
        });

        function check(a) {
          // (?=.*\d) => 包含數字； (?=.*[a-z]) => 包含小寫字母； (?=.*[A-Z]) =>包含大寫字母； (?=.*\W) => 包含特殊符號； .{8,} => 至少8位數字以上
          let regex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{8,}$/;
          return regex.test(a);
        }
      });
    </script>
    <script src="./navbar.js"></script>
  </body>
</html>
